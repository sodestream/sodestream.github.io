<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="generator" content="pandoc">
    <meta name="description" content="">

    <title>ietf_docs</title>

    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">

    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <link href="https://maxcdn.bootstrapcdn.com/css/ie10-viewport-bug-workaround.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="https://mushiyo.github.io/pandoc-toc-sidebar/css/dashboard.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <style type="text/css">code{white-space: pre;}</style>
    <style type="text/css">.sidebar ul{padding-left: 10px;}</style>
    <style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
    </style>
  </head>

  <body>
    <nav class="navbar navbar-inverse navbar-fixed-top">
      <div class="container-fluid">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">	    
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="#">IETF / W3C data documentation</a>
        </div>
      </div>
    </nav>

    <div class="container-fluid">
      <div class="row">
        <div id="sidebar" class="col-sm-3 col-md-2 sidebar">
          <!--<ul class="nav nav-sidebar">
            <li class="active"><a href="#">Overview <span class="sr-only">(current)</span></a></li>
          </ul>-->
          <ul>
          <li><a href="#ietf" id="toc-ietf">IETF</a>
          <ul>
          <li><a href="#quickstart"
          id="toc-quickstart">Quickstart</a></li>
          <li><a href="#staying-up-to-date"
          id="toc-staying-up-to-date">Staying up to date</a></li>
          <li><a href="#datatracker"
          id="toc-datatracker">Datatracker</a>
          <ul>
          <li><a href="#setup" id="toc-setup">Setup</a></li>
          <li><a href="#example-draft-authors"
          id="toc-example-draft-authors">Example: Draft authors</a></li>
          <li><a href="#example-draft-references"
          id="toc-example-draft-references">Example: Draft
          references</a></li>
          <li><a href="#example-draft-submissions-by-date"
          id="toc-example-draft-submissions-by-date">Example: Draft
          submissions (by date)</a></li>
          <li><a href="#example-drafts-for-person"
          id="toc-example-drafts-for-person">Example: Drafts for
          person</a></li>
          <li><a href="#example-drafts-for-rfc"
          id="toc-example-drafts-for-rfc">Example: Drafts for
          RFC</a></li>
          <li><a href="#example-drafts-for-working-group"
          id="toc-example-drafts-for-working-group">Example: Drafts for
          working group</a></li>
          <li><a href="#example-leadership-roles"
          id="toc-example-leadership-roles">Example: Leadership
          roles</a></li>
          <li><a href="#example-person-emails"
          id="toc-example-person-emails">Example: Person emails</a></li>
          <li><a href="#other-examples" id="toc-other-examples">Other
          examples</a></li>
          </ul></li>
          <li><a href="#rfcindex" id="toc-rfcindex">RfcIndex</a>
          <ul>
          <li><a href="#setup-1" id="toc-setup-1">Setup</a></li>
          <li><a href="#example-get-data-about-rfc"
          id="toc-example-get-data-about-rfc">Example: Get data about
          RFC</a></li>
          <li><a href="#example-rfc-streams"
          id="toc-example-rfc-streams">Example: RFC streams</a></li>
          </ul></li>
          <li><a href="#mailarchive"
          id="toc-mailarchive">Mailarchive</a>
          <ul>
          <li><a href="#setup-2" id="toc-setup-2">Setup</a></li>
          <li><a
          href="#example-iterate-over-mailing-lists-threads-messages"
          id="toc-example-iterate-over-mailing-lists-threads-messages">Example:
          Iterate over mailing lists / threads / messages</a></li>
          <li><a href="#example-getting-message-headers"
          id="toc-example-getting-message-headers">Example: Getting
          message headers</a></li>
          </ul></li>
          <li><a href="#mailarchive-additional-metadata"
          id="toc-mailarchive-additional-metadata">Mailarchive
          additional metadata</a>
          <ul>
          <li><a href="#setup-3" id="toc-setup-3">Setup</a></li>
          <li><a href="#example-getting-all-available-metadata"
          id="toc-example-getting-all-available-metadata">Example:
          Getting all available metadata</a></li>
          <li><a href="#example-getting-clean-text-of-emails"
          id="toc-example-getting-clean-text-of-emails">Example: Getting
          clean text of emails</a></li>
          <li><a href="#example-segments-quoting-other-segments"
          id="toc-example-segments-quoting-other-segments">Example:
          Segments quoting other segments</a></li>
          <li><a href="#example-working-with-the-interaction-graph"
          id="toc-example-working-with-the-interaction-graph">Example:
          Working with the interaction graph</a></li>
          </ul></li>
          <li><a href="#document-full-texts"
          id="toc-document-full-texts">Document full texts</a>
          <ul>
          <li><a href="#rsync-access" id="toc-rsync-access">Rsync
          access</a></li>
          </ul></li>
          </ul></li>
          <li><a href="#w3c" id="toc-w3c">W3C</a>
          <ul>
          <li><a href="#quickstart-1"
          id="toc-quickstart-1">Quickstart</a></li>
          <li><a href="#documents" id="toc-documents">Documents</a>
          <ul>
          <li><a href="#setup-4" id="toc-setup-4">Setup</a></li>
          <li><a href="#example-1" id="toc-example-1">Example 1</a></li>
          <li><a href="#example-2" id="toc-example-2">Example 2</a></li>
          </ul></li>
          <li><a href="#emails" id="toc-emails">Emails</a>
          <ul>
          <li><a href="#setup-5" id="toc-setup-5">Setup</a></li>
          <li><a href="#example-1-1" id="toc-example-1-1">Example
          1</a></li>
          <li><a href="#example-2-1" id="toc-example-2-1">Example
          2</a></li>
          </ul></li>
          <li><a href="#github-issues" id="toc-github-issues">Github
          issues</a>
          <ul>
          <li><a href="#setup-6" id="toc-setup-6">Setup</a></li>
          <li><a href="#example-1-2" id="toc-example-1-2">Example
          1</a></li>
          <li><a href="#example-2-2" id="toc-example-2-2">Example
          2</a></li>
          </ul></li>
          </ul></li>
          </ul>
        </div>
        <div class="col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main">
        
<h1 id="ietf">IETF</h1>
<p>This The Internet Engineering Task Force (IETF) is a decentralised
organisation that develops internet standards. The activities of the
organisation span several main areas (<a
href="https://datatracker.ietf.org/area/">list of areas</a>). Each area
is presided over by several area directors (ADs). Areas are further
divided into working groups (WGs), each of which, are chaired by one or
more WG chairs (<a href="https://datatracker.ietf.org/wg/">list of
active wgs</a>). The working groups bring together participants of
similar expertise to focus on a single standard or a smaller number of
closely related standards. Each standard starts out as an internet
draft. Successfully finished standards are published by the IETF as
documents called RFCs. A simplified view of this process is shown
below:</p>
<p><img src="./ietf-process.png" title="IETF draft publication process"
alt="Image of the IETF draft publication process" />.</p>
<p>A draft starts as an individual draft. It is then iteratively refined
after discussions via the mailing lists and in live meetings. If
successful, it gets adopted by a WG. As a WG draft it is further
iteratively refined by the WG members and at some point publication is
requested. When this process is finished the draft is published as an
RFC. If the process does not successfully finish the draft expires.</p>
<p>All stages of this process are well documented and there is a lot of
data available about it. This documentation describes how to easily
access this data and gives examples of some basic analyses that can be
carried out. There are four main sources of the data to consider:</p>
<ol type="1">
<li><p><a href="https://datatracker.ietf.org/">Datatracker</a> - a
metadata database that contains information about the process –
participants, documents (+ version histories), groups, meetings, WG
chair/ AD director roles, etc.</p></li>
<li><p><a href="https://mailarchive.ietf.org/arch/">Mailarchive</a> - an
archive of all the email correspondence in the IETF mailing lists
ranging back to the 1990s</p></li>
<li><p><a href="https://www.rfc-editor.org/">RfcIndex</a> - an
additional metadata database containing information about documents that
became RFCs</p></li>
<li><p><a href="https://www.ietf.org/about/open-records/">Documents
rsync repo</a> - a repository containing text and xml versions of all
versions of all documents (published and unpublished)</p></li>
</ol>
<p>Below you will find quickstart and usage examples that will help you
quickly get going with your exploration of the available data.</p>
<h2 id="quickstart">Quickstart</h2>
<p>A simple and fast setup that will be a good start for most users is
as follows:</p>
<ol type="1">
<li>Install MongoDB if you don’t already have it (this guide was based
on version 5.0.5), you can find installation instructions for your
favorite OS <a
href="https://www.mongodb.com/docs/manual/tutorial/">here</a></li>
<li>Install the ietfdata library available
<code>pip install ietfdata</code> (extra information available at the <a
href="https://github.com/glasgow-ipl/ietfdata">library github
page</a>)</li>
<li>Install additional packages for handling metadata as described in
the <a href="#mailarchive-additional-metadata">metadata chapter</a>. You
can install only those that you want to use, or skip this step entirely.
The availabale extra metadata are:
<ul>
<li>Full texts of the documents (see <a
href="##document-full-texts">this section</a>)</li>
<li>More elaborate spam information</li>
<li>Breakdown of email text into segments (quotes, signatures, or
regular text)</li>
<li>An interaction graph between participants</li>
</ul></li>
<li>Fetch all the data intend to use by running the commands described
in the <a href="#staying-up-to-date">staying up to date chapter</a></li>
</ol>
<p>You should now, have the texts in <code>my-local-mirror-folder</code>
and be able to successfully instantiate the below classes</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="ex">from</span> ietfdata.datatracker import <span class="pp">*</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="ex">from</span> ietfdata.mailarchive2 import <span class="pp">*</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="ex">from</span> ietfdata.rfcindex import <span class="pp">*</span>      </span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="ex">ri</span> = RfcIndex<span class="er">(</span><span class="kw">)</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="ex">dt</span> = DataTracker<span class="er">(</span><span class="ex">use_cache</span> = True, mongodb_user = <span class="st">&quot;FrodoB&quot;</span>, mongodb_password = <span class="st">&quot;AshNazg&quot;</span><span class="kw">)</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="ex">ma</span> = MailArchive<span class="er">(</span><span class="ex">mongodb_user</span> = <span class="st">&quot;FrodoB&quot;</span>, mongodb_password = <span class="st">&quot;AshNazg&quot;</span><span class="kw">)</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="co"># these imports may not work, depending on what you skippped</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="ex">from</span> metadata_spam import is_spam </span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="ex">from</span> metadata_seg import get_segmentation, get_signature</span></code></pre></div>
<p>You should now be able to run all the examples as well as write your
own analyses.</p>
<h2 id="staying-up-to-date">Staying up to date</h2>
<p>This section assumes you have set up all the above libraries and
caches, but some time has passed and you wish to update to have the most
recent version of the data available. The RFCIndex has no cache and is
always up to date, and the Datatracker will automatically update it’s
cache so there is no action needed there. What you need to manually
update is:</p>
<p>1 The texts of the documents</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rsync</span> <span class="at">-avz</span> <span class="at">--delete</span> rsync.ietf.org::id-archive/<span class="pp">*</span>.txt my-local-mirror-folder</span></code></pre></div>
<p>2 The mailarchive cache:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="ex">from</span> ietfdata.mailarchive2 import <span class="pp">*</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="ex">ma</span> = MailArchive<span class="er">(</span><span class="ex">mongodb_user</span> = <span class="st">&#39;FrodoB&#39;</span>, mongodb_password = <span class="st">&#39;AshNazg&#39;</span><span class="kw">)</span>    </span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ma.update()</span>  </span></code></pre></div>
<p>3 Additional metadata Once the mailarchive/text has been updated you
must regenerate the metadata. This step is only required for those types
of metadata that you need (otherwise just ignore it). For commands to
refresh the metadata of a particular type please see the corresponding
section in the <a href="#mailarchive-additional-metadata">this
chapter</a> or <a href="#document-full-texts">this chapter</a>.</p>
<h2 id="datatracker">Datatracker</h2>
<p>The datatracker is a database (available via an online API) that
contains various metadata about the workings of the IETF. You may also
easily access this data using a python API described in the next
subsection. Below is a <strong>non-exhaustive</strong> list of available
data that we expect to be particularly often used in analyses.</p>
<table>
<colgroup>
<col style="width: 11%" />
<col style="width: 88%" />
</colgroup>
<thead>
<tr class="header">
<th>Data class</th>
<th>Fields</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Person</td>
<td>name, biography, date joined</td>
</tr>
<tr class="even">
<td>Email</td>
<td>associated person, is primary?</td>
</tr>
<tr class="odd">
<td>Document</td>
<td>title, abstract, group, state, submissions (versions), date and
time, type, authors, events</td>
</tr>
<tr class="even">
<td>Group</td>
<td>acronym, description, charter, list email, date founded, events,
history, roles (chairs)</td>
</tr>
</tbody>
</table>
<p>For a <strong>full list</strong> of available fields for every data
class (including more, such as data related to <code>meetings</code>,
<code>ballots</code>, <code>schedules</code>, and
<code>reviewing</code>) please see the <a
href="https://sodestream.github.io/data-docs/libs/datatracker.html">ietfdata
DataTracker documentation</a>.</p>
<h3 id="setup">Setup</h3>
<p>To get started with using the Datatracker API please clone and set up
the <a
href="https://github.com/glasgow-ipl/ietfdata/tree/master">ietfdata git
repository</a>. This comes down to the following commands:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> clone https://github.com/glasgow-ipl/ietfdata.git</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> ietfdata</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="ex">pipenv</span> install <span class="at">--dev</span> <span class="at">-e</span> .</span></code></pre></div>
<p>You are now ready to use the python API by instancing the
<code>DataTracker</code> class. For example:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="ex">from</span> ietfdata.datatracker import <span class="pp">*</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="ex">dt</span> = DataTracker<span class="er">(</span><span class="kw">)</span>  </span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="ex">print</span><span class="er">(</span><span class="fu">dt.groups()</span><span class="kw">)</span></span></code></pre></div>
<p>However, this means that each time you request some data, a network
request will be sent to the official Datatracker server, which can be
very slow, and might sometimes overload the server. For this reason we
<strong>strongly encourage</strong> you to avoid this by copying all or
most of the Datatracker data to your machine locally. There are two
methods to do this.</p>
<p><strong>Method 1</strong> Enable the datatracker cache which uses a
MongoDB database. Ideally you can can prepopulate the cache with a
recent snapshot of the data as follows:</p>
<p>Install MongoDB if you don’t already have it (this guide was based on
version 5.0.5), you can find installation instructions for your favorite
OS <a href="https://www.mongodb.com/docs/manual/tutorial/">here</a></p>
<p>You may now use the datatracker by pointing it to the MongoDB cache
(keep in mind that the user you are using needs to have read/write
access to the database you restored in step 3):</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="ex">from</span> ietfdata.datatracker import <span class="pp">*</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="ex">dt</span> = DataTracker<span class="er">(</span><span class="ex">use_cache</span> = True, mongodb_user = <span class="st">&#39;FrodoB&#39;</span>, mongodb_password = <span class="st">&#39;AshNazg&#39;</span><span class="kw">)</span>  </span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="ex">print</span><span class="er">(</span><span class="fu">dt.groups()</span><span class="kw">)</span></span></code></pre></div>
<p><strong>Method 2</strong> Set up a local Datatracker instance
following <a
href="https://github.com/ietf-tools/datatracker/blob/main/README.md">these
instructions</a> and modify the IETFDATA_DT_URL environment variable to
point to it (likely “localhost:port”).</p>
<h3 id="example-draft-authors">Example: Draft authors</h3>
<p><a
href="https://github.com/glasgow-ipl/ietfdata/blob/master/examples/draft-authors.py">Full
example here</a></p>
<div class="sourceCode" id="cb7"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="ex">doc</span> = dt.document<span class="er">(</span><span class="ex">DocumentURI</span><span class="er">(</span><span class="st">&#39;/api/v1/doc/document/draft-ietf-mmusic-rfc4566bis/&#39;</span><span class="kw">))</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="ex">print</span><span class="er">(</span><span class="st">&quot;Title: {}&quot;</span><span class="ex">.format</span><span class="er">(</span><span class="ex">doc.title</span><span class="kw">))</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> doc_author <span class="kw">in</span> dt.document_authors<span class="er">(</span><span class="ex">doc</span><span class="kw">)</span><span class="bu">:</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>  <span class="ex">p</span> = dt.person<span class="er">(</span><span class="ex">doc_author.person</span><span class="kw">)</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>  <span class="ex">print</span><span class="er">(</span><span class="st">&quot;Author: {}&quot;</span><span class="ex">.format</span><span class="er">(</span><span class="ex">p.name</span><span class="kw">))</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> submission_uri <span class="kw">in</span> doc.submissions:</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>  <span class="ex">submission</span> = dt.submission<span class="er">(</span><span class="ex">submission_uri</span><span class="kw">)</span></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>  <span class="ex">print</span><span class="er">(</span><span class="st">&quot;Revision: {}&quot;</span><span class="ex">.format</span><span class="er">(</span><span class="ex">submission.rev</span><span class="kw">))</span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> author <span class="kw">in</span> submission.parse_authors<span class="er">(</span><span class="kw">)</span><span class="bu">:</span></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>      <span class="ex">print</span><span class="er">(</span><span class="st">&quot;  author: {}&quot;</span><span class="ex">.format</span><span class="er">(</span><span class="va">author</span><span class="op">[</span><span class="st">&quot;name&quot;</span><span class="op">]</span><span class="kw">))</span></span></code></pre></div>
<h3 id="example-draft-references">Example: Draft references</h3>
<p><a
href="https://github.com/glasgow-ipl/ietfdata/blob/master/examples/draft-references.py">Full
example here</a></p>
<div class="sourceCode" id="cb8"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="ex">draft</span> = <span class="st">&quot;draft-ietf-quic-transport&quot;</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="ex">print</span><span class="er">(</span><span class="ex">f</span><span class="st">&quot;{draft}:&quot;</span><span class="kw">)</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> alias <span class="kw">in</span> dt.document_aliases<span class="er">(</span><span class="ex">draft</span><span class="kw">)</span><span class="bu">:</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> rel <span class="kw">in</span> dt.related_documents<span class="er">(</span><span class="ex">target</span> = alias<span class="kw">)</span><span class="bu">:</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>        <span class="ex">rel_type</span>   = dt.relationship_type<span class="er">(</span><span class="ex">rel.relationship</span><span class="kw">)</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>        <span class="ex">rel_source</span> = dt.document<span class="er">(</span><span class="ex">rel.source</span><span class="kw">)</span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>        <span class="ex">assert</span> rel_type is not None</span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>        <span class="ex">assert</span> rel_source is not None</span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="ex">dt.document_type</span><span class="er">(</span><span class="ex">rel_source.type</span><span class="kw">)</span> <span class="ex">==</span> dt.document_type_from_slug<span class="er">(</span><span class="st">&quot;draft&quot;</span><span class="kw">)</span><span class="bu">:</span></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>            <span class="ex">print</span><span class="er">(</span><span class="ex">F</span><span class="st">&quot;    {rel_type.revname} {rel_source.name}-{rel_source.rev}&quot;</span><span class="kw">)</span> </span></code></pre></div>
<h3 id="example-draft-submissions-by-date">Example: Draft submissions
(by date)</h3>
<p><a
href="https://github.com/glasgow-ipl/ietfdata/blob/master/examples/draft-submissions-by-date.py">Full
example here</a></p>
<div class="sourceCode" id="cb9"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> submission <span class="kw">in</span> dt.submissions<span class="er">(</span><span class="ex">date_since</span> = <span class="st">&quot;2021-11-01&quot;</span>, date_until = <span class="st">&quot;2021-11-30&quot;</span><span class="kw">)</span><span class="bu">:</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>    <span class="ex">print</span><span class="er">(</span><span class="ex">f</span><span class="st">&quot;{submission.name}-{submission.rev}&quot;</span><span class="kw">)</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>    <span class="ex">print</span><span class="er">(</span><span class="ex">f</span><span class="st">&quot;  submitted: {submission.submission_date}&quot;</span><span class="kw">)</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> author <span class="kw">in</span> submission.parse_authors<span class="er">(</span><span class="kw">)</span><span class="bu">:</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>        <span class="ex">print</span><span class="er">(</span><span class="ex">f</span><span class="st">&quot;  author: {author[&#39;name&#39;]}&quot;</span><span class="ex">,</span> end=<span class="st">&quot;&quot;</span><span class="kw">)</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="va">author</span><span class="op">[</span><span class="st">&#39;email&#39;</span><span class="op">]</span> <span class="ex">is</span> not None:</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>            <span class="ex">print</span><span class="er">(</span><span class="ex">f</span><span class="st">&quot; &lt;{author[&#39;email&#39;]}&gt;&quot;</span><span class="ex">,</span> end=<span class="st">&quot;&quot;</span><span class="kw">)</span></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="va">author</span><span class="op">[</span><span class="st">&#39;affiliation&#39;</span><span class="op">]</span> <span class="ex">is</span> not None:</span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>            <span class="ex">print</span><span class="er">(</span><span class="ex">f</span><span class="st">&quot;, {author[&#39;affiliation&#39;]}&quot;</span><span class="ex">,</span> end=<span class="st">&quot;&quot;</span><span class="kw">)</span></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>        <span class="ex">print</span><span class="er">(</span><span class="st">&quot;&quot;</span><span class="kw">)</span></span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> url <span class="kw">in</span> submission.urls<span class="er">(</span><span class="kw">)</span><span class="bu">:</span></span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>        <span class="ex">print</span><span class="er">(</span><span class="ex">f</span><span class="st">&quot;  {url}&quot;</span><span class="kw">)</span></span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a>  </span></code></pre></div>
<h3 id="example-drafts-for-person">Example: Drafts for person</h3>
<p><a
href="https://github.com/glasgow-ipl/ietfdata/blob/master/examples/drafts-for-person.py">Full
example here</a></p>
<div class="sourceCode" id="cb10"><pre
class="sourceCode sh"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="ex">p</span>  = dt.person_from_email<span class="er">(</span><span class="st">&quot;csp@csperkins.org&quot;</span><span class="kw">)</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> da <span class="kw">in</span> dt.documents_authored_by_person<span class="er">(</span><span class="ex">p</span><span class="kw">)</span><span class="bu">:</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>    <span class="ex">doc</span> = dt.document<span class="er">(</span><span class="ex">da.document</span><span class="kw">)</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>    <span class="ex">print</span><span class="er">(</span><span class="ex">doc.title</span><span class="kw">)</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>    <span class="ex">print</span><span class="er">(</span><span class="ex">doc.name</span><span class="kw">)</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>    <span class="ex">print</span><span class="er">(</span><span class="st">&quot;&quot;</span><span class="kw">)</span></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>  </span></code></pre></div>
<h3 id="example-drafts-for-rfc">Example: Drafts for RFC</h3>
<p><a
href="https://github.com/glasgow-ipl/ietfdata/blob/master/examples/drafts-for-rfc.py">Full
example here</a></p>
<div class="sourceCode" id="cb11"><pre
class="sourceCode sh"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="ex">rfc</span> = ri.rfc<span class="er">(</span><span class="st">&quot;RFC8280&quot;</span><span class="kw">)</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="ex">rfc</span> is not None:</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> d <span class="kw">in</span> dt.draft_history_for_rfc<span class="er">(</span><span class="ex">rfc</span><span class="kw">)</span><span class="bu">:</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>        <span class="ex">print</span><span class="er">(</span><span class="st">&quot;    {0: &lt;50} | {1} | {2}&quot;</span><span class="ex">.format</span><span class="er">(</span><span class="ex">d.draft.name,</span> d.rev, d.date.strftime<span class="er">(</span><span class="st">&quot;%Y-%m-%d&quot;</span><span class="kw">)))</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>  </span></code></pre></div>
<p>Note: this example also uses the RFCIndex class
(<code>ri = RfcIndex()</code>)</p>
<h3 id="example-drafts-for-working-group">Example: Drafts for working
group</h3>
<p><a
href="https://github.com/glasgow-ipl/ietfdata/blob/master/examples/drafts-for-wg.py">Full
example here</a></p>
<div class="sourceCode" id="cb12"><pre
class="sourceCode sh"><code class="sourceCode bash"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="ex">g</span>  = dt.group_from_acronym<span class="er">(</span><span class="st">&quot;rmcat&quot;</span><span class="kw">)</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> draft <span class="kw">in</span> dt.documents<span class="er">(</span><span class="va">group</span><span class="op">=</span>g, <span class="va">doctype</span><span class="op">=</span>dt.document_type_from_slug<span class="kw">(</span><span class="st">&quot;draft&quot;</span><span class="kw">))</span><span class="bu">:</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>    <span class="ex">print</span><span class="er">(</span><span class="ex">draft.name</span><span class="kw">)</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> sub_url <span class="kw">in</span> draft.submissions:</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>        <span class="ex">sub</span> = dt.submission<span class="er">(</span><span class="ex">sub_url</span><span class="kw">)</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>        <span class="ex">print</span><span class="er">(</span><span class="ex">F</span><span class="st">&quot;  {sub.document_date.strftime(&#39;%Y-%m-%d&#39;)} {sub.name}-{sub.rev}&quot;</span><span class="kw">)</span></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> a <span class="kw">in</span> sub.parse_authors<span class="er">(</span><span class="kw">)</span><span class="bu">:</span></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>            <span class="ex">print</span><span class="er">(</span><span class="ex">F</span><span class="st">&quot;    {a[&#39;name&#39;]} &lt;{a[&#39;email&#39;]}&gt;&quot;</span><span class="kw">)</span></span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>    <span class="ex">print</span><span class="er">(</span><span class="st">&quot;&quot;</span><span class="kw">)</span></span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>  </span></code></pre></div>
<h3 id="example-leadership-roles">Example: Leadership roles</h3>
<p><a
href="https://github.com/glasgow-ipl/ietfdata/blob/master/examples/ietf-leadership.py">Full
example here</a></p>
<div class="sourceCode" id="cb13"><pre
class="sourceCode sh"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="ex">print</span><span class="er">(</span><span class="ex">F</span><span class="st">&quot;The IETF chair is {dt.ietf_chair().name}&quot;</span><span class="kw">)</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a><span class="ex">print</span><span class="er">(</span><span class="st">&quot;The IESG members are:&quot;</span><span class="kw">)</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> m <span class="kw">in</span> dt.iesg_members<span class="er">(</span><span class="kw">)</span><span class="bu">:</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>    <span class="ex">print</span><span class="er">(</span><span class="ex">F</span><span class="st">&quot;  {m.name}&quot;</span><span class="kw">)</span></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a><span class="ex">print</span><span class="er">(</span><span class="st">&quot;&quot;</span><span class="kw">)</span></span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a><span class="ex">print</span><span class="er">(</span><span class="st">&quot;The IETF working group chairs are:&quot;</span><span class="kw">)</span></span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> m <span class="kw">in</span> dt.working_group_chairs<span class="er">(</span><span class="kw">)</span><span class="bu">:</span></span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a>    <span class="ex">print</span><span class="er">(</span><span class="ex">F</span><span class="st">&quot;  {m.name}&quot;</span><span class="kw">)</span></span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a><span class="ex">print</span><span class="er">(</span><span class="st">&quot;&quot;</span><span class="kw">)</span></span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a>  </span></code></pre></div>
<h3 id="example-person-emails">Example: Person emails</h3>
<p><a
href="https://github.com/glasgow-ipl/ietfdata/blob/master/examples/person-emails.py">Full
example here</a></p>
<div class="sourceCode" id="cb14"><pre
class="sourceCode sh"><code class="sourceCode bash"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> alias <span class="kw">in</span> dt.person_aliases<span class="er">(</span><span class="va">name</span><span class="op">=</span><span class="st">&quot;Colin Perkins&quot;</span><span class="kw">)</span><span class="bu">:</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> email <span class="kw">in</span> dt.email_for_person<span class="er">(</span><span class="ex">dt.person</span><span class="er">(</span><span class="ex">alias.person</span><span class="kw">))</span><span class="bu">:</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>        <span class="ex">print</span><span class="er">(</span><span class="ex">email.address</span><span class="kw">)</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>  </span></code></pre></div>
<h3 id="other-examples">Other examples</h3>
<p>Here are some other available examples that use the Datatracker
API:</p>
<p><a
href="https://github.com/glasgow-ipl/ietfdata/blob/master/examples/bluesheets.py">Bluesheets</a></p>
<p><a
href="https://github.com/glasgow-ipl/ietfdata/blob/master/examples/emails-per-person.py">Emails
for person</a></p>
<p><a
href="https://github.com/glasgow-ipl/ietfdata/blob/master/examples/org-chart.py">Organisation
chart</a></p>
<p><a
href="https://github.com/glasgow-ipl/ietfdata/blob/master/examples/person-attendance.py">Person
attendance</a></p>
<p><a
href="https://github.com/glasgow-ipl/ietfdata/blob/master/examples/person.py">Person
data</a></p>
<p><a
href="https://github.com/glasgow-ipl/ietfdata/blob/master/examples/recent-pubreq.py">Drafts
recently requesting publication</a></p>
<h2 id="rfcindex">RfcIndex</h2>
<h3 id="setup-1">Setup</h3>
<p>Setting up the RFCIndex API is similar and simpler than setting up
the Datatracker API, because there is no cache to set up. Simply install
the <a
href="https://github.com/glasgow-ipl/ietfdata/tree/master">ietfdata
library</a> (if you have not already done so):</p>
<div class="sourceCode" id="cb15"><pre
class="sourceCode sh"><code class="sourceCode bash"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> clone https://github.com/glasgow-ipl/ietfdata.git</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> ietfdata</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="ex">pipenv</span> install <span class="at">--dev</span> <span class="at">-e</span> .</span></code></pre></div>
<p>And you are ready to go:</p>
<div class="sourceCode" id="cb16"><pre
class="sourceCode sh"><code class="sourceCode bash"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="ex">from</span> ietfdata.rfcindex        import <span class="pp">*</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="ex">ri</span> = RFCIndex<span class="er">(</span><span class="kw">)</span>  </span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a><span class="ex">print</span><span class="er">(</span><span class="ex">ri.rfc</span><span class="er">(</span><span class="st">&quot;RFC8280&quot;</span><span class="kw">))</span>  </span></code></pre></div>
<p>Some useful data provided by this part of the library includes
<code>title</code>,<code>authors</code>,<code>date</code>,<code>working group</code>,<code>area</code>,
<code>obsoletes</code>, and <code>obsoleted-by</code>. For details
please see the <a
href="https://sodestream.github.io/data-docs/libs/rfcindex.html">ietfdata
RFCIndex documentation</a>.</p>
<h3 id="example-get-data-about-rfc">Example: Get data about RFC</h3>
<p><a
href="https://github.com/glasgow-ipl/ietfdata/blob/master/examples/rfc-data.py">Full
example here</a></p>
<div class="sourceCode" id="cb17"><pre
class="sourceCode sh"><code class="sourceCode bash"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a> <span class="cf">for</span> rfc <span class="kw">in</span> ri.rfcs<span class="er">(</span><span class="kw">)</span><span class="bu">:</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>   <span class="ex">print</span><span class="er">(</span><span class="st">&quot;&quot;</span><span class="kw">)</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>   <span class="ex">print</span><span class="er">(</span><span class="ex">rfc.doc_id</span><span class="kw">)</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>   <span class="ex">print</span><span class="er">(</span><span class="st">&quot;  rfc.title        | {} | {}&quot;</span><span class="ex">.format</span><span class="er">(</span><span class="ex">rfc.doc_id,</span> rfc.title<span class="kw">))</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>   <span class="ex">print</span><span class="er">(</span><span class="st">&quot;  rfc.draft        | {} | {}&quot;</span><span class="ex">.format</span><span class="er">(</span><span class="ex">rfc.doc_id,</span> rfc.draft<span class="kw">))</span></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>   <span class="cf">for</span> kw <span class="kw">in</span> rfc.keywords:</span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>       <span class="ex">print</span><span class="er">(</span><span class="st">&quot;  rfc.keyword      | {} | {}&quot;</span><span class="ex">.format</span><span class="er">(</span><span class="ex">rfc.doc_id,</span> kw<span class="kw">))</span></span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>   <span class="ex">print</span><span class="er">(</span><span class="st">&quot;  rfc.date         | {} | {} {}&quot;</span><span class="ex">.format</span><span class="er">(</span><span class="ex">rfc.doc_id,</span> rfc.month, rfc.year<span class="kw">))</span></span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>   <span class="ex">print</span><span class="er">(</span><span class="st">&quot;  rfc.stream       | {} | {}&quot;</span><span class="ex">.format</span><span class="er">(</span><span class="ex">rfc.doc_id,</span> rfc.stream<span class="kw">))</span></span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a>   <span class="ex">print</span><span class="er">(</span><span class="st">&quot;  rfc.wg           | {} | {}&quot;</span><span class="ex">.format</span><span class="er">(</span><span class="ex">rfc.doc_id,</span> rfc.wg<span class="kw">))</span></span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a>   <span class="ex">print</span><span class="er">(</span><span class="st">&quot;  rfc.area         | {} | {}&quot;</span><span class="ex">.format</span><span class="er">(</span><span class="ex">rfc.doc_id,</span> rfc.area<span class="kw">))</span></span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a>   <span class="ex">print</span><span class="er">(</span><span class="st">&quot;  rfc.publ_status  | {} | {}&quot;</span><span class="ex">.format</span><span class="er">(</span><span class="ex">rfc.doc_id,</span> rfc.publ_status<span class="kw">))</span></span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a>   <span class="ex">print</span><span class="er">(</span><span class="st">&quot;  rfc.curr_status  | {} | {}&quot;</span><span class="ex">.format</span><span class="er">(</span><span class="ex">rfc.doc_id,</span> rfc.curr_status<span class="kw">))</span></span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a>   <span class="ex">print</span><span class="er">(</span><span class="st">&quot;  rfc.april_fool   | {} | {}&quot;</span><span class="ex">.format</span><span class="er">(</span><span class="ex">rfc.doc_id,</span> rfc.day is not None<span class="kw">))</span></span>
<span id="cb17-15"><a href="#cb17-15" aria-hidden="true" tabindex="-1"></a>   <span class="ex">print</span><span class="er">(</span><span class="st">&quot;  rfc.page_count   | {} | {}&quot;</span><span class="ex">.format</span><span class="er">(</span><span class="ex">rfc.doc_id,</span> rfc.page_count<span class="kw">))</span></span>
<span id="cb17-16"><a href="#cb17-16" aria-hidden="true" tabindex="-1"></a>   <span class="cf">for</span> doc <span class="kw">in</span> rfc.updates:</span>
<span id="cb17-17"><a href="#cb17-17" aria-hidden="true" tabindex="-1"></a>       <span class="ex">print</span><span class="er">(</span><span class="st">&quot;  rfc.updates      | {} | {}&quot;</span><span class="ex">.format</span><span class="er">(</span><span class="ex">rfc.doc_id,</span> doc<span class="kw">))</span></span>
<span id="cb17-18"><a href="#cb17-18" aria-hidden="true" tabindex="-1"></a>   <span class="cf">for</span> doc <span class="kw">in</span> rfc.updated_by:</span>
<span id="cb17-19"><a href="#cb17-19" aria-hidden="true" tabindex="-1"></a>       <span class="ex">print</span><span class="er">(</span><span class="st">&quot;  rfc.updated-by   | {} | {}&quot;</span><span class="ex">.format</span><span class="er">(</span><span class="ex">rfc.doc_id,</span> doc<span class="kw">))</span></span>
<span id="cb17-20"><a href="#cb17-20" aria-hidden="true" tabindex="-1"></a>   <span class="cf">for</span> doc <span class="kw">in</span> rfc.obsoletes:</span>
<span id="cb17-21"><a href="#cb17-21" aria-hidden="true" tabindex="-1"></a>       <span class="ex">print</span><span class="er">(</span><span class="st">&quot;  rfc.obsoletes    | {} | {}&quot;</span><span class="ex">.format</span><span class="er">(</span><span class="ex">rfc.doc_id,</span> doc<span class="kw">))</span></span>
<span id="cb17-22"><a href="#cb17-22" aria-hidden="true" tabindex="-1"></a>   <span class="cf">for</span> doc <span class="kw">in</span> rfc.obsoleted_by:</span>
<span id="cb17-23"><a href="#cb17-23" aria-hidden="true" tabindex="-1"></a>       <span class="ex">print</span><span class="er">(</span><span class="st">&quot;  rfc.obsoleted-by | {} | {}&quot;</span><span class="ex">.format</span><span class="er">(</span><span class="ex">rfc.doc_id,</span> doc<span class="kw">))</span></span>
<span id="cb17-24"><a href="#cb17-24" aria-hidden="true" tabindex="-1"></a>   <span class="cf">for</span> a <span class="kw">in</span> rfc.authors:</span>
<span id="cb17-25"><a href="#cb17-25" aria-hidden="true" tabindex="-1"></a>       <span class="ex">print</span><span class="er">(</span><span class="st">&quot;  rfc.author       | {} | {}&quot;</span><span class="ex">.format</span><span class="er">(</span><span class="ex">rfc.doc_id,</span> a<span class="kw">))</span></span></code></pre></div>
<p>There is a lot more data available! Please see <a
href="https://github.com/glasgow-ipl/ietfdata/blob/master/examples/rfc-data.py">full
example</a> for details.</p>
<h3 id="example-rfc-streams">Example: RFC streams</h3>
<p><a
href="https://github.com/glasgow-ipl/ietfdata/blob/master/examples/rfc-streams.py">Full
example here</a></p>
<div class="sourceCode" id="cb18"><pre
class="sourceCode sh"><code class="sourceCode bash"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> rfc <span class="kw">in</span> ri.rfcs<span class="er">(</span><span class="kw">)</span><span class="bu">:</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>  <span class="ex">total</span> += 1</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> <span class="ex">rfc.stream</span> == <span class="st">&quot;Legacy&quot;</span>:</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>      <span class="ex">legacy</span> += 1</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> <span class="ex">rfc.stream</span> in streams:</span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>      <span class="va">streams</span><span class="op">[</span>rfc.stream<span class="op">]</span> <span class="ex">+=</span> 1</span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>  <span class="ex">else:</span></span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>      <span class="va">streams</span><span class="op">[</span>rfc.stream<span class="op">]</span> <span class="ex">=</span> 0</span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> stream <span class="kw">in</span> streams:</span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a>  <span class="ex">print</span><span class="er">(</span><span class="ex">f</span><span class="st">&quot;{stream:11} : {streams[stream]:5d} &quot;</span><span class="ex">,</span> end=<span class="st">&quot;&quot;</span><span class="kw">)</span></span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a>  <span class="ex">print</span><span class="er">(</span><span class="ex">f</span><span class="st">&quot;({streams[stream] / total * 100:4.1f}%)&quot;</span><span class="ex">,</span> end=<span class="st">&quot;&quot;</span><span class="kw">)</span></span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> <span class="ex">stream</span> != <span class="st">&quot;Legacy&quot;</span>:</span>
<span id="cb18-14"><a href="#cb18-14" aria-hidden="true" tabindex="-1"></a>      <span class="ex">print</span><span class="er">(</span><span class="ex">f</span><span class="st">&quot;  ({streams[stream] / (total - legacy) * 100:4.1f}% excluding legacy)&quot;</span><span class="ex">,</span> end=<span class="st">&quot;&quot;</span><span class="kw">)</span></span>
<span id="cb18-15"><a href="#cb18-15" aria-hidden="true" tabindex="-1"></a>  <span class="ex">print</span><span class="er">(</span><span class="ex">f</span><span class="st">&quot;&quot;</span><span class="kw">)</span></span></code></pre></div>
<h2 id="mailarchive">Mailarchive</h2>
<p>This part of the data contains the text of the messages from the IETF
mailing lists, including all the email headers (most useful being
<code>from</code>, <code>to</code>, <code>subject</code>,
<code>date</code>, <code>in-reply-to</code>) and the name of the mailing
list to which the email was sent. The library also provides a way to
traverse entire threads of emails that form during discussion.</p>
<p>For an in-depth look of all the available functionality please see
the <a
href="https://sodestream.github.io/data-docs/libs/mailarchive.html">ietfdata
MailArchive documentation</a>.</p>
<h3 id="setup-2">Setup</h3>
<p>To get started with using the Mailarchive API please clone and set up
the <a
href="https://github.com/glasgow-ipl/ietfdata/tree/master">ietfdata git
repository</a> (if you have not already done so):</p>
<div class="sourceCode" id="cb19"><pre
class="sourceCode sh"><code class="sourceCode bash"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> clone https://github.com/glasgow-ipl/ietfdata.git</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> ietfdata</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a><span class="ex">pipenv</span> install <span class="at">--dev</span> <span class="at">-e</span> .</span></code></pre></div>
<p>Similarly as the Datatracker, the Mailarchive class can use a
mailarchive cache – a (most often local) MongoDB database containing a
snapshot of the data. In contrast to the Datatracker, usage of this
cache is <strong>not optional</strong> you must have it set up as
follows:</p>
<ol type="1">
<li><p>Install MongoDB if you don’t already have it (this guide was
based on version 5.0.5), you can find installation instructions for your
favorite OS <a
href="https://www.mongodb.com/docs/manual/tutorial/">here</a></p></li>
<li><p>Populate the cache by either:</p>
<div class="sourceCode" id="cb20"><pre
class="sourceCode sh"><code class="sourceCode bash"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="ex">from</span> ietfdata.mailarchive2 import <span class="pp">*</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="ex">ma</span> = MailArchive<span class="er">(</span><span class="ex">mongodb_user</span> = <span class="st">&#39;FrodoB&#39;</span>, mongodb_password = <span class="st">&#39;AshNazg&#39;</span><span class="kw">)</span>    </span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ma.update()</span>  </span></code></pre></div>
<p>This will create a database called
<code>ietfdata_mailarchive_v2</code> and populate it with messages from
the IETF mailarchive server.</p></li>
</ol>
<p>You may now use the <code>MailArchive</code> class by pointing it to
the MongoDB cache (keep in mind that the user you are using needs to
have read/write access to the database restored in step 3):</p>
<div class="sourceCode" id="cb21"><pre
class="sourceCode sh"><code class="sourceCode bash"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a> <span class="ex">from</span> ietfdata.mailarchive2 import <span class="pp">*</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a> <span class="ex">ma</span> = MailArchive<span class="er">(</span><span class="ex">mongodb_user</span> = <span class="st">&#39;FrodoB&#39;</span>, mongodb_password = <span class="st">&#39;AshNazg&#39;</span><span class="kw">)</span>  </span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a> <span class="ex">print</span><span class="er">(</span><span class="fu">ma.mailing_list_names()</span><span class="kw">)</span></span></code></pre></div>
<p><strong>NOTE:</strong> Unlike with the Datatracker cache, which will
automatically fetch new data from the server whenever it is available,
the mailarchive cache will <strong>not automatically check for
updates</strong> on the server, if you want to get up to date data you
must call the <code>update()</code> method.</p>
<h3 id="example-iterate-over-mailing-lists-threads-messages">Example:
Iterate over mailing lists / threads / messages</h3>
<div class="sourceCode" id="cb22"><pre
class="sourceCode sh"><code class="sourceCode bash"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="ex">ml_name</span> = <span class="st">&quot;100all&quot;</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="ex">ml</span> = archive.mailing_list<span class="er">(</span><span class="ex">ml_name</span><span class="kw">)</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="ex">ml:</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>   <span class="ex">thr_root_dict</span> = ml.threads<span class="er">(</span><span class="ex">this_list_only</span> = True<span class="kw">)</span></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>   <span class="cf">for</span> thr_root_key <span class="kw">in</span> thr_root_dict:</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>       <span class="ex">thread_root_msg</span> = thr_root_dict<span class="pp">[</span><span class="ss">thr_root_key</span><span class="pp">][</span><span class="ss">0</span><span class="pp">]</span></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>         </span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>       <span class="cf">for</span> msg <span class="kw">in</span> iterate_over_thread<span class="er">(</span><span class="ex">thread_root_msg</span><span class="kw">)</span><span class="bu">:</span>                   </span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>            <span class="co"># your code here</span></span></code></pre></div>
<h3 id="example-getting-message-headers">Example: Getting message
headers</h3>
<div class="sourceCode" id="cb23"><pre
class="sourceCode sh"><code class="sourceCode bash"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="ex">msg.header</span><span class="er">(</span><span class="st">&quot;from&quot;</span><span class="kw">)</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="ex">msg.header</span><span class="er">(</span><span class="st">&quot;to&quot;</span><span class="kw">)</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a><span class="ex">msg.header</span><span class="er">(</span><span class="st">&quot;reply-to&quot;</span><span class="kw">)</span></span></code></pre></div>
<p>Each of these returns a list of strings which are the values of that
header (some of them can have multiple values, if they appeared in the
header several times. You can also call
<code>msg.header("message-id")</code> to get the message-id of the
message. You can find more information about the behavior in the <a
href="https://sodestream.github.io/data-docs/libs/mailarchive2.Envelope.html">documentation
of the Envelopoe class</a></p>
<h2 id="mailarchive-additional-metadata">Mailarchive additional
metadata</h2>
<p>These are repositories with code that produces additional metadata
and data structures building on the existing data from the
Datatracker/Mailarchive. Currently the following metadata types are
available, each type is in a separate git repo.</p>
<ol type="1">
<li>Spam information <a
href="https://github.com/sodestream/metadata-spam">https://github.com/sodestream/metadata-spam</a></li>
<li>Email segmentations (and signatures) <a
href="https://github.com/sodestream/metadata-seg">https://github.com/sodestream/metadata-seg</a></li>
<li>E-mail interaction graph <a
href="https://github.com/sodestream/metadata-ig">https://github.com/sodestream/metadata-ig</a></li>
</ol>
<p>These are completely separated. If you are only interested in one
type of metadata you can only use that type and completely ignore the
rest.</p>
<h3 id="setup-3">Setup</h3>
<h4 id="email-segmentations">Email segmentations</h4>
<p>Clone the corresponding repository:</p>
<div class="sourceCode" id="cb24"><pre
class="sourceCode sh"><code class="sourceCode bash"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>  <span class="fu">git</span> clone https://github.com/sodestream/ietfdata-metadata-seg</span></code></pre></div>
<p>To regenerate the data (after initial install or after mailarchive
update) run:</p>
<div class="sourceCode" id="cb25"><pre
class="sourceCode sh"><code class="sourceCode bash"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="ex">./preprocess-seg-to-csv-parallel.sh</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="ex">python</span> preprocess-seg-to-db.py</span></code></pre></div>
<p>Note: This will fully occupy your CPU, we recommend running over
night.</p>
<h4 id="spam-data">Spam data</h4>
<p>Clone the corresponding repository:</p>
<div class="sourceCode" id="cb26"><pre
class="sourceCode sh"><code class="sourceCode bash"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>  <span class="fu">git</span> clone https://github.com/sodestream/ietfdata-metadata-spam</span></code></pre></div>
<p>To regenerate the data (after initial install or after mailarchive
update) run:</p>
<div class="sourceCode" id="cb27"><pre
class="sourceCode sh"><code class="sourceCode bash"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tar</span> xvzf spamrres.tar.gz</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a><span class="ex">python</span> run_preproc.py</span></code></pre></div>
<h4 id="interaction-graph">Interaction graph</h4>
<p>Clone the corresponding repository:</p>
<div class="sourceCode" id="cb28"><pre
class="sourceCode sh"><code class="sourceCode bash"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>  <span class="fu">git</span> clone https://github.com/sodestream/ietfdata-metadata-ig</span></code></pre></div>
<p>To regenerate the data (after initial install or after mailarchive
update) run:</p>
<div class="sourceCode" id="cb29"><pre
class="sourceCode sh"><code class="sourceCode bash"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="ex">python</span> generate-intgraph.py</span></code></pre></div>
<p>The interaction graph is in a file named
<code>intgraph.csv</code>.</p>
<h3 id="example-getting-all-available-metadata">Example: Getting all
available metadata</h3>
<div class="sourceCode" id="cb30"><pre
class="sourceCode sh"><code class="sourceCode bash"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>   <span class="ex">ml_name</span> = <span class="st">&quot;100all&quot;</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>   <span class="ex">ml</span> = archive.mailing_list<span class="er">(</span><span class="ex">ml_name</span><span class="kw">)</span></span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>   <span class="cf">if</span> <span class="ex">ml:</span></span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>       <span class="ex">thr_root_dict</span> = ml.threads<span class="er">(</span><span class="ex">this_list_only</span> = True<span class="kw">)</span></span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>       <span class="cf">for</span> thr_root_key <span class="kw">in</span> thr_root_dict:</span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>           <span class="ex">thread_root_msg</span> = thr_root_dict<span class="pp">[</span><span class="ss">thr_root_key</span><span class="pp">][</span><span class="ss">0</span><span class="pp">]</span>    </span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a>           <span class="cf">for</span> msg <span class="kw">in</span> iterate_over_thread<span class="er">(</span><span class="ex">thread_root_msg</span><span class="kw">)</span><span class="bu">:</span> </span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a>                  <span class="co"># spam</span></span>
<span id="cb30-10"><a href="#cb30-10" aria-hidden="true" tabindex="-1"></a>                  <span class="ex">print</span><span class="er">(</span><span class="ex">is_spam</span><span class="er">(</span><span class="ex">msg,</span> archive<span class="kw">))</span></span>
<span id="cb30-11"><a href="#cb30-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-12"><a href="#cb30-12" aria-hidden="true" tabindex="-1"></a>                  <span class="co"># signature</span></span>
<span id="cb30-13"><a href="#cb30-13" aria-hidden="true" tabindex="-1"></a>                  <span class="ex">print</span><span class="er">(</span><span class="ex">get_signature</span><span class="er">(</span><span class="ex">msg,</span> archive<span class="kw">))</span></span>
<span id="cb30-14"><a href="#cb30-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-15"><a href="#cb30-15" aria-hidden="true" tabindex="-1"></a>                  <span class="co"># segmentations / pseudolabels</span></span>
<span id="cb30-16"><a href="#cb30-16" aria-hidden="true" tabindex="-1"></a>                  <span class="cf">for</span> segment <span class="kw">in</span> get_segmentation<span class="er">(</span><span class="ex">msg,</span> archive<span class="kw">)</span><span class="bu">:</span></span>
<span id="cb30-17"><a href="#cb30-17" aria-hidden="true" tabindex="-1"></a>                          <span class="ex">print</span><span class="er">(</span><span class="ex">segment.id</span><span class="kw">)</span></span>
<span id="cb30-18"><a href="#cb30-18" aria-hidden="true" tabindex="-1"></a>                          <span class="ex">print</span><span class="er">(</span><span class="ex">segment.type</span><span class="kw">)</span></span>
<span id="cb30-19"><a href="#cb30-19" aria-hidden="true" tabindex="-1"></a>                          <span class="ex">print</span><span class="er">(</span><span class="ex">segment.content</span><span class="kw">)</span></span>
<span id="cb30-20"><a href="#cb30-20" aria-hidden="true" tabindex="-1"></a>                          <span class="ex">print</span><span class="er">(</span><span class="ex">get_pseudolabels</span><span class="er">(</span><span class="ex">msg,</span> segment.id<span class="kw">))</span></span>
<span id="cb30-21"><a href="#cb30-21" aria-hidden="true" tabindex="-1"></a>                          </span>
<span id="cb30-22"><a href="#cb30-22" aria-hidden="true" tabindex="-1"></a>                  <span class="co"># interaction graph, is a csv that will be generated when installing the metadata-access library</span></span>
<span id="cb30-23"><a href="#cb30-23" aria-hidden="true" tabindex="-1"></a>                  <span class="ex">int_df</span> = pd.read_csv<span class="er">(</span><span class="st">&quot;metadata-ig/intgraph.csv&quot;</span><span class="kw">)</span> </span>
<span id="cb30-24"><a href="#cb30-24" aria-hidden="true" tabindex="-1"></a>                  <span class="ex">print</span><span class="er">(</span><span class="fu">int_df.head()</span><span class="kw">)</span></span></code></pre></div>
<h3 id="example-getting-clean-text-of-emails">Example: Getting clean
text of emails</h3>
<div class="sourceCode" id="cb31"><pre
class="sourceCode sh"><code class="sourceCode bash"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>   <span class="ex">ml_name</span> = <span class="st">&quot;100all&quot;</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>   <span class="ex">ml</span> = archive.mailing_list<span class="er">(</span><span class="ex">ml_name</span><span class="kw">)</span></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>   <span class="cf">if</span> <span class="ex">ml:</span></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>       <span class="ex">thr_root_dict</span> = ml.threads<span class="er">(</span><span class="ex">this_list_only</span> = True<span class="kw">)</span></span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>       <span class="cf">for</span> thr_root_key <span class="kw">in</span> thr_root_dict:</span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>           <span class="ex">thread_root_msg</span> = thr_root_dict<span class="pp">[</span><span class="ss">thr_root_key</span><span class="pp">][</span><span class="ss">0</span><span class="pp">]</span></span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a>           <span class="cf">for</span> msg <span class="kw">in</span> iterate_over_thread<span class="er">(</span><span class="ex">thread_root_msg</span><span class="kw">)</span><span class="bu">:</span>                   </span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a>                <span class="ex">message_clean_text</span> = <span class="st">&quot;\n&quot;</span>.join<span class="er">(</span><span class="ex">[s</span> for s in get_segmentation<span class="er">(</span><span class="ex">msg,</span> archive<span class="kw">)</span> <span class="cf">if</span> <span class="ex">s.type</span> == <span class="st">&quot;normal&quot;</span>]<span class="kw">)</span></span>
<span id="cb31-10"><a href="#cb31-10" aria-hidden="true" tabindex="-1"></a>                <span class="ex">print</span><span class="er">(</span><span class="ex">message_clean_text</span><span class="kw">)</span></span></code></pre></div>
<p>Note: segments can have three types “normal” (green below) is regular
text, “quote” is quoted text (red below), and “signature” is the
signature (blue below). For example:</p>
<p><span style="color: red;"> &gt;&gt; Captain, can I have some shore
leave <br> &gt;&gt; to get some rest from exploring.</span></p>
<p><span style="color: green;"> Sure, also, next time use subspace radio
instead of email.</span></p>
<p><span style="color: blue;"> Best, <br> Jean-Luc</span></p>
<h3 id="example-segments-quoting-other-segments">Example: Segments
quoting other segments</h3>
<div class="sourceCode" id="cb32"><pre
class="sourceCode sh"><code class="sourceCode bash"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>   <span class="ex">ml_name</span> = <span class="st">&quot;100all&quot;</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>   <span class="ex">ml</span> = archive.mailing_list<span class="er">(</span><span class="ex">ml_name</span><span class="kw">)</span></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>   <span class="cf">if</span> <span class="ex">ml:</span></span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>       <span class="ex">thr_root_dict</span> = ml.threads<span class="er">(</span><span class="ex">this_list_only</span> = True<span class="kw">)</span></span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>       <span class="cf">for</span> thr_root_key <span class="kw">in</span> thr_root_dict:</span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a>           <span class="ex">thread_root_msg</span> = thr_root_dict<span class="pp">[</span><span class="ss">thr_root_key</span><span class="pp">][</span><span class="ss">0</span><span class="pp">]</span></span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a>           <span class="cf">for</span> msg <span class="kw">in</span> iterate_over_thread<span class="er">(</span><span class="ex">thread_root_msg</span><span class="kw">)</span><span class="bu">:</span>                            </span>
<span id="cb32-9"><a href="#cb32-9" aria-hidden="true" tabindex="-1"></a>                  <span class="co"># segmentations / pseudolabels</span></span>
<span id="cb32-10"><a href="#cb32-10" aria-hidden="true" tabindex="-1"></a>                  <span class="cf">for</span> segment <span class="kw">in</span> get_segmentation<span class="er">(</span><span class="ex">msg,</span> archive<span class="kw">)</span><span class="bu">:</span></span>
<span id="cb32-11"><a href="#cb32-11" aria-hidden="true" tabindex="-1"></a>                          <span class="ex">print</span><span class="er">(</span><span class="st">&quot;Segment %d is quoting segment %d&quot;</span> % <span class="er">(</span><span class="ex">segment.id,</span> segment.antecedent<span class="kw">))</span>                          </span>
<span id="cb32-12"><a href="#cb32-12" aria-hidden="true" tabindex="-1"></a>                </span></code></pre></div>
<p>In the email from the previous example, the green segment would have
the id of the red segment in its <code>antecedent</code> field. The
<code>antecedent</code> field of the red and blue segments would be
-1.</p>
<h3 id="example-working-with-the-interaction-graph">Example: Working
with the interaction graph</h3>
<p>The csv file containing the interaction graph can be downloaded at <a
href="www.google.com">this link</a>. Each row represents one
interaction, i..e, one message that was sent. It contains the following
columns:</p>
<table>
<colgroup>
<col style="width: 11%" />
<col style="width: 88%" />
</colgroup>
<thead>
<tr class="header">
<th>Column</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>current_from_email</td>
<td>Comma separated list of email addresses in the “from” header field
of the current message (<em>the message that was sent in this
interaction</em>).</td>
</tr>
<tr class="even">
<td>current_to_email</td>
<td>Comma separated list of email addresses in the “to” header field of
the current message</td>
</tr>
<tr class="odd">
<td>reply_to_from_email</td>
<td>Comma separated list of email addresses in the “from” header field
of the message is referred to by the “reply-to” header field of the
current message (should correspond to the previous column, apart from
not having a mailing list name)</td>
</tr>
<tr class="even">
<td>current_message_id</td>
<td>The “message-id” header field of the current message.</td>
</tr>
<tr class="odd">
<td>current_uid</td>
<td>The “uid header field of the current message.</td>
</tr>
<tr class="even">
<td>current_uidvalidity</td>
<td>The “uidvalidity” header field of the current message.</td>
</tr>
<tr class="odd">
<td>reply_to_message_id</td>
<td>The “message-id” header field of the message referred to by the
“reply-to” header field of the current message.</td>
</tr>
<tr class="even">
<td>reply_to_uid</td>
<td>The “uid” header field of the message referred to by the “reply-to”
header field of the current message.</td>
</tr>
<tr class="odd">
<td>reply_to_uidvalidity</td>
<td>The “uidvalidity” header field of the message referred to by the
“reply-to” header field of the current message.</td>
</tr>
<tr class="even">
<td>date</td>
<td>The date and time of the current messsage (“YYYY-MM-DD
HH:MM:SS”)</td>
</tr>
<tr class="odd">
<td>mailing_list_name</td>
<td>Name of the mailing list that the current message was sent to.</td>
</tr>
</tbody>
</table>
<h2 id="document-full-texts">Document full texts</h2>
<p>Full texts of drafts (all versions) and RFC-s are available in an
rsync repo. Most texts are available in both txt and xml formats, with
xml being easier to automatically parse. This repository includes some
other text data including <code>WG charters</code>,
<code>proceedings</code>, <code>IESG minutes</code>, and
<code>slides</code>.</p>
<h3 id="rsync-access">Rsync access</h3>
<p>To download all texts in <code>txt</code> format:</p>
<div class="sourceCode" id="cb33"><pre
class="sourceCode sh"><code class="sourceCode bash"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rsync</span> <span class="at">-avz</span> <span class="at">--delete</span> rsync.ietf.org::id-archive/<span class="pp">*</span>.txt my-local-mirror-folder</span></code></pre></div>
<p>Slight changes to the rsync name/path in this command fetches various
data. Please refer to <a
href="https://www.ietf.org/about/open-records/">this page</a> to see all
available paths. The documents are named “draft-name” followed by a
two-digit version number. E.g., “draft-perkins-aodv6-01”
(“draft-perkins-aodv6” is the name an “01” is the version number).</p>
<h1 id="w3c">W3C</h1>
<p><code>TODO summary of W3C</code></p>
<h3 id="quickstart-1">Quickstart</h3>
<p><code>TODO</code></p>
<h2 id="documents">Documents</h2>
<p><code>TODO</code></p>
<h3 id="setup-4">Setup</h3>
<p><code>TODO</code></p>
<h3 id="example-1">Example 1</h3>
<p><code>TODO</code></p>
<h3 id="example-2">Example 2</h3>
<p><code>TODO</code></p>
<h2 id="emails">Emails</h2>
<p><code>TODO</code></p>
<h3 id="setup-5">Setup</h3>
<p><code>TODO</code></p>
<h3 id="example-1-1">Example 1</h3>
<p><code>TODO</code></p>
<h3 id="example-2-1">Example 2</h3>
<p><code>TODO</code></p>
<h2 id="github-issues">Github issues</h2>
<p><code>TODO</code></p>
<h3 id="setup-6">Setup</h3>
<p><code>TODO</code></p>
<h3 id="example-1-2">Example 1</h3>
<p><code>TODO</code></p>
<h3 id="example-2-2">Example 2</h3>
<p><code>TODO</code></p>
        </div>
      </div>
    </div>
    
    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script>window.jQuery || document.write('<script src="../../assets/js/vendor/jquery.min.js"><\/script>')</script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <script src="https://maxcdn.bootstrapcdn.com/js/ie10-viewport-bug-workaround.js"></script>
    <script>
        //document.getElementById('sidebar').getElementsByTagName('ul')[0].className += "nav nav-sidebar";
        
        /* ajust the height when click the toc
           the code is from https://github.com/twbs/bootstrap/issues/1768
        */
        var shiftWindow = function() { scrollBy(0, -50) };
        window.addEventListener("hashchange", shiftWindow);
        function load() { if (window.location.hash) shiftWindow(); }
        
        /*add Bootstrap styles to tables*/
        var tables = document.getElementsByTagName("table");
        for(var i = 0; i < tables.length; ++i){
            tables[i].className += "table table-bordered table-hover";
        }
    </script>
  </body>
</html>
